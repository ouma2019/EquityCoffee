<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Equity Coffee – Training Management System</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <link rel="stylesheet" href="../css/dashboard.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Modern Design Variables */
    :root {
      --primary: #4361ee;
      --primary-dark: #3a56d4;
      --primary-light: #e0e7ff;
      --secondary: #7209b7;
      --accent: #f72585;
      --success: #4cc9f0;
      --warning: #f8961e;
      --danger: #f94144;
      --info: #3a0ca3;
      --dark: #1e293b;
      --light: #f8fafc;
      --gray-100: #f1f5f9;
      --gray-200: #e2e8f0;
      --gray-300: #cbd5e1;
      --gray-600: #64748b;
      --gray-800: #334155;
      --sidebar-width: 280px;
      --border-radius: 12px;
      --border-radius-lg: 16px;
      --border-radius-xl: 20px;
      --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      --box-shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.12);
      --box-shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.15);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body.dashboard-body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      color: var(--dark);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Dashboard Shell */
    .dashboard-shell {
      display: flex;
      min-height: 100vh;
    }

    /* Enhanced Sidebar */
    .sidebar {
      width: var(--sidebar-width);
      background: linear-gradient(180deg, var(--dark) 0%, #1a1f35 100%);
      color: white;
      display: flex;
      flex-direction: column;
      position: fixed;
      height: 100vh;
      z-index: 1000;
      transition: var(--transition);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
    }

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-image {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-image i {
      color: white;
      font-size: 1.2rem;
    }

    .logo-text {
      display: flex;
      flex-direction: column;
    }

    .logo-primary {
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
      font-size: 1.2rem;
      background: linear-gradient(135deg, #fff, #f0f0f0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .logo-secondary {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 2px;
    }

    .sidebar-close {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .sidebar-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .sidebar-nav {
      flex: 1;
      padding: 1.5rem 0;
      list-style: none;
    }

    .sidebar-link {
      display: flex;
      align-items: center;
      padding: 0.875rem 1.5rem;
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: var(--transition);
      position: relative;
      margin: 4px 0;
      border-left: 3px solid transparent;
    }

    .sidebar-link:hover {
      background: rgba(255, 255, 255, 0.05);
      color: white;
      border-left-color: var(--primary);
    }

    .sidebar-link.active {
      background: linear-gradient(90deg, rgba(67, 97, 238, 0.15), transparent);
      color: white;
      border-left-color: var(--primary);
    }

    .sidebar-link i {
      width: 24px;
      margin-right: 12px;
      font-size: 1.1rem;
    }

    .sidebar-footer {
      padding: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 1rem;
      color: white;
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .user-name {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .user-email {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.6);
    }

    .btn-logout {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .btn-logout:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    /* Main Content */
    .dashboard-main {
      flex: 1;
      margin-left: var(--sidebar-width);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Modern Topbar */
    .topbar {
      padding: 1.25rem 2rem;
      background: white;
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.04);
    }

    .sidebar-toggle {
      background: var(--primary);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      margin-right: 1rem;
    }

    .sidebar-toggle:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
    }

    .topbar-title {
      flex: 1;
    }

    .topbar-title h1 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.75rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--dark), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 0.25rem;
    }

    .topbar-title p {
      color: var(--gray-600);
      font-size: 0.9rem;
    }

    .topbar-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border-radius: 10px;
      border: none;
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 0.875rem;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-ghost {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-ghost:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.2);
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      border: none;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
    }

    .btn-success {
      background: var(--success);
      color: white;
      border: none;
    }

    .btn-success:hover {
      background: #06b6d4;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(76, 201, 240, 0.3);
    }

    /* Dashboard Content */
    .dashboard-content {
      flex: 1;
      padding: 2rem;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    }

    /* Training Management Dashboard */
    .training-dashboard {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
    }

    @media (max-width: 1200px) {
      .training-dashboard {
        grid-template-columns: 1fr;
      }
    }

    /* Training Cards */
    .card {
      background: white;
      border-radius: var(--border-radius-lg);
      overflow: hidden;
      box-shadow: var(--box-shadow);
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .card:hover {
      box-shadow: var(--box-shadow-lg);
    }

    .card-header {
      padding: 1.5rem 1.5rem 1rem;
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-header h2 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--dark);
    }

    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      font-size: 0.75rem;
      font-weight: 600;
      border-radius: 20px;
      background: var(--primary);
      color: white;
    }

    .badge-outline {
      background: transparent;
      color: var(--primary);
      border: 1px solid var(--primary);
    }

    /* Dashboard Footer */
    .dashboard-footer {
      padding: 1.5rem 2rem;
      background: white;
      border-top: 1px solid var(--gray-200);
      margin-top: auto;
    }

    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--gray-600);
      font-size: 0.875rem;
    }

    /* Training Action Bar */
    .training-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding: 1.5rem;
      background: white;
      border-radius: var(--border-radius-lg);
      box-shadow: var(--box-shadow);
    }

    .filter-tabs {
      display: flex;
      gap: 0.5rem;
    }

    .filter-tab {
      padding: 0.5rem 1rem;
      background: var(--gray-100);
      border: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--gray-600);
      cursor: pointer;
      transition: var(--transition);
    }

    .filter-tab:hover {
      background: var(--gray-200);
    }

    .filter-tab.active {
      background: var(--primary);
      color: white;
    }

    /* Training Grid */
    .training-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .training-card {
      background: white;
      border-radius: var(--border-radius-lg);
      overflow: hidden;
      box-shadow: var(--box-shadow);
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.3);
      position: relative;
    }

    .training-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--box-shadow-lg);
    }

    .training-card-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--gray-200);
      position: relative;
    }

    .training-type {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .training-type.barista { background: rgba(76, 201, 240, 0.15); color: #06b6d4; }
    .training-type.qc { background: rgba(248, 150, 30, 0.15); color: #f8961e; }
    .training-type.roasting { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
    .training-type.green { background: rgba(34, 197, 94, 0.15); color: #16a34a; }

    .training-title {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .training-subtitle {
      font-size: 0.875rem;
      color: var(--gray-600);
      margin-bottom: 0.75rem;
    }

    .training-date {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: var(--gray-600);
    }

    .training-body {
      padding: 1.5rem;
    }

    .training-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .training-participants {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: var(--gray-600);
    }

    .participant-avatars {
      display: flex;
      margin-left: 0.5rem;
    }

    .participant-avatar {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--gray-300);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      color: white;
      margin-left: -8px;
      border: 2px solid white;
    }

    .participant-avatar:first-child {
      margin-left: 0;
    }

    .training-status {
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .status-planned { background: rgba(67, 97, 238, 0.15); color: var(--primary); }
    .status-in-progress { background: rgba(248, 150, 30, 0.15); color: #f8961e; }
    .status-completed { background: rgba(34, 197, 94, 0.15); color: #16a34a; }
    .status-cancelled { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

    .training-skills {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .skill-tag {
      padding: 0.25rem 0.75rem;
      background: var(--gray-100);
      border-radius: 15px;
      font-size: 0.75rem;
      color: var(--gray-600);
    }

    .training-progress {
      margin-bottom: 1.5rem;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.875rem;
      color: var(--gray-600);
    }

    .progress-bar {
      height: 8px;
      background: var(--gray-200);
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.6s ease;
    }

    .progress-fill.planned { background: var(--primary); width: 30%; }
    .progress-fill.in-progress { background: #f8961e; width: 65%; }
    .progress-fill.completed { background: #16a34a; width: 100%; }

    .training-actions {
      display: flex;
      gap: 0.75rem;
    }

    .action-btn {
      flex: 1;
      padding: 0.75rem;
      border: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .action-btn-primary {
      background: var(--primary);
      color: white;
    }

    .action-btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .action-btn-secondary {
      background: var(--gray-100);
      color: var(--gray-600);
    }

    .action-btn-secondary:hover {
      background: var(--gray-200);
      transform: translateY(-2px);
    }

    /* Training Calendar */
    .training-calendar {
      background: white;
      border-radius: var(--border-radius-lg);
      padding: 1.5rem;
      box-shadow: var(--box-shadow);
      margin-bottom: 2rem;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .calendar-nav {
      display: flex;
      gap: 0.5rem;
    }

    .calendar-nav-btn {
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: 1px solid var(--gray-300);
      background: white;
      color: var(--gray-600);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .calendar-nav-btn:hover {
      background: var(--gray-100);
    }

    .calendar-month {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--dark);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.5rem;
    }

    .calendar-day {
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      color: var(--gray-600);
      border-radius: 8px;
    }

    .calendar-day.header {
      font-weight: 600;
      color: var(--dark);
    }

    .calendar-day.today {
      background: var(--primary);
      color: white;
      font-weight: 600;
    }

    .calendar-day.has-training {
      background: rgba(76, 201, 240, 0.15);
      color: var(--primary);
      font-weight: 600;
      position: relative;
      cursor: pointer;
    }

    .calendar-day.has-training::after {
      content: '';
      position: absolute;
      bottom: 4px;
      width: 4px;
      height: 4px;
      background: var(--primary);
      border-radius: 50%;
    }

    /* Training Stats */
    .training-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: white;
      border-radius: var(--border-radius-lg);
      padding: 1.5rem;
      box-shadow: var(--box-shadow);
      text-align: center;
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--box-shadow-lg);
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      font-family: 'Poppins', sans-serif;
      color: var(--primary);
      line-height: 1;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 0.875rem;
      color: var(--gray-600);
    }

    /* Upcoming Sessions */
    .upcoming-sessions {
      background: white;
      border-radius: var(--border-radius-lg);
      padding: 1.5rem;
      box-shadow: var(--box-shadow);
    }

    .session-list {
      list-style: none;
      padding: 0;
    }

    .session-item {
      padding: 1rem 0;
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: var(--transition);
    }

    .session-item:hover {
      background: rgba(67, 97, 238, 0.03);
    }

    .session-item:last-child {
      border-bottom: none;
    }

    .session-time {
      width: 70px;
      text-align: center;
    }

    .session-time-hour {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--primary);
    }

    .session-time-period {
      font-size: 0.75rem;
      color: var(--gray-600);
    }

    .session-info {
      flex: 1;
    }

    .session-title {
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 0.25rem;
    }

    .session-description {
      font-size: 0.875rem;
      color: var(--gray-600);
    }

    /* Training Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      backdrop-filter: blur(5px);
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: white;
      border-radius: var(--border-radius-xl);
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--box-shadow-xl);
      animation: modalSlideIn 0.3s ease-out;
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--dark);
    }

    .modal-close {
      background: var(--gray-100);
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .modal-close:hover {
      background: var(--gray-200);
    }

    .modal-body {
      padding: 1.5rem;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group label {
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--gray-800);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 0.75rem;
      border: 1px solid var(--gray-300);
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }

    .form-actions {
      display: flex;
      gap: 1rem;
      justify-content: flex-end;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .sidebar {
        transform: translateX(-100%);
      }
      
      .sidebar.active {
        transform: translateX(0);
      }
      
      .dashboard-main {
        margin-left: 0;
      }
      
      .sidebar-toggle {
        display: flex;
      }

      .training-grid {
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .dashboard-content {
        padding: 1rem;
      }

      .training-actions {
        flex-direction: column;
        gap: 1rem;
      }

      .filter-tabs {
        flex-wrap: wrap;
      }

      .training-grid {
        grid-template-columns: 1fr;
      }

      .training-stats {
        grid-template-columns: repeat(2, 1fr);
      }

      .form-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }

    @keyframes slideIn {
      from { transform: translateX(-20px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .slide-in {
      animation: slideIn 0.4s ease-out forwards;
    }

    /* Utility Classes */
    .text-muted {
      color: var(--gray-600);
    }

    .mt-1 { margin-top: 0.5rem; }
    .mt-2 { margin-top: 1rem; }
    .mt-3 { margin-top: 1.5rem; }
    .mb-1 { margin-bottom: 0.5rem; }
    .mb-2 { margin-bottom: 1rem; }
    .mb-3 { margin-bottom: 1.5rem; }
  </style>
</head>
<body class="dashboard-body">
  <div class="dashboard-shell">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <div class="logo-image">
            <i class="fas fa-coffee"></i>
          </div>
          <div class="logo-text">
            <span class="logo-primary">Equity Coffee</span>
            <span class="logo-secondary">Educator / Evaluator</span>
          </div>
        </div>
        <button class="sidebar-close" id="sidebar-close">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <ul class="sidebar-nav">
        <li><a class="sidebar-link" href="dashboard-educator.html"><i class="fas fa-chart-line"></i><span>Dashboard</span></a></li>
        <li><a class="sidebar-link" href="educator-evaluations.html"><i class="fas fa-clipboard-check"></i><span>Cupping &amp; Evaluations</span></a></li>
        <li><a class="sidebar-link active" href="educator-training.html"><i class="fas fa-chalkboard-teacher"></i><span>Training Sessions</span><span class="notification-badge">3</span></a></li>
        <li><a class="sidebar-link" href="educator-reports.html"><i class="fas fa-file-alt"></i><span>Reports &amp; Feedback</span></a></li>
        <li><a class="sidebar-link" href="../trader/trader-marketplace.html"><i class="fas fa-store"></i><span>Marketplace</span></a></li>
      </ul>

      <div class="sidebar-footer">
        <div class="user-profile">
          <div class="user-avatar">EC</div>
          <div class="user-info">
            <div class="user-name">Educator Demo</div>
            <div class="user-email">educator@equitycoffee.com</div>
          </div>
        </div>
        <a href="/profile.html" class="btn-logout" title="My Profile" style="margin-right: 0.5rem; text-decoration: none;">
          <i class="fas fa-user-circle"></i>
        </a>
        <button class="btn-logout" id="logout-btn" title="Logout">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    </aside>

    <div class="dashboard-main">
      <header class="topbar">
        <button class="sidebar-toggle" id="sidebar-toggle">
          <i class="fas fa-bars"></i>
        </button>
        <div class="topbar-title">
          <h1>Training Management System</h1>
          <p>Plan, schedule, and track training sessions for baristas, QC teams, and roasters.</p>
        </div>
        <div class="topbar-right">
          <button class="btn btn-primary" id="new-training-btn">
            <i class="fas fa-plus-circle"></i>
            <span>New Training</span>
          </button>
          <button class="btn btn-ghost btn-logout" id="topbar-logout">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </button>
        </div>
      </header>

      <main class="dashboard-content">
        <!-- Training Statistics -->
        <div class="training-stats fade-in">
          <div class="stat-card">
            <div class="stat-value" id="total-trainings">18</div>
            <div class="stat-label">Total Trainings</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="upcoming-trainings">5</div>
            <div class="stat-label">Upcoming</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="participants-trained">142</div>
            <div class="stat-label">Participants Trained</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="avg-rating">4.8</div>
            <div class="stat-label">Avg. Rating</div>
          </div>
        </div>

        <!-- Training Action Bar -->
        <div class="training-actions fade-in" style="animation-delay: 0.1s">
          <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">All Trainings</button>
            <button class="filter-tab" data-filter="upcoming">Upcoming</button>
            <button class="filter-tab" data-filter="in-progress">In Progress</button>
            <button class="filter-tab" data-filter="completed">Completed</button>
            <button class="filter-tab" data-filter="cancelled">Cancelled</button>
          </div>
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="training-search" placeholder="Search trainings...">
          </div>
        </div>

        <!-- Main Training Dashboard -->
        <div class="training-dashboard">
          <!-- Training Grid -->
          <div class="training-content">
            <div class="training-grid" id="trainingGrid">
              <!-- Training Card 1 -->
              <div class="training-card fade-in" data-status="planned" data-type="barista">
                <div class="training-card-header">
                  <div class="training-type barista">
                    <i class="fas fa-mug-hot"></i>
                  </div>
                  <h3 class="training-title">Barista Sensory Calibration</h3>
                  <p class="training-subtitle">Advanced espresso tasting and milk steaming techniques</p>
                  <div class="training-date">
                    <i class="far fa-calendar"></i>
                    <span>12 March 2025 • 10:00 - 13:00</span>
                  </div>
                </div>
                <div class="training-body">
                  <div class="training-meta">
                    <div class="training-participants">
                      <i class="fas fa-users"></i>
                      8 participants
                      <div class="participant-avatars">
                        <div class="participant-avatar" style="background: #4361ee;">JD</div>
                        <div class="participant-avatar" style="background: #7209b7;">SM</div>
                        <div class="participant-avatar" style="background: #f72585;">+6</div>
                      </div>
                    </div>
                    <span class="training-status status-planned">Planned</span>
                  </div>
                  <div class="training-skills">
                    <span class="skill-tag">Espresso</span>
                    <span class="skill-tag">Milk Steaming</span>
                    <span class="skill-tag">Workflow</span>
                    <span class="skill-tag">Basic QC</span>
                  </div>
                  <div class="training-progress">
                    <div class="progress-label">
                      <span>Preparation Progress</span>
                      <span>30%</span>
                    </div>
                    <div class="progress-bar">
                      <div class="progress-fill planned"></div>
                    </div>
                  </div>
                  <div class="training-actions">
                    <button class="action-btn action-btn-primary" data-id="1">
                      <i class="fas fa-play-circle"></i>
                      Start Session
                    </button>
                    <button class="action-btn action-btn-secondary" data-id="1">
                      <i class="fas fa-edit"></i>
                      Edit
                    </button>
                  </div>
                </div>
              </div>

              <!-- Training Card 2 -->
              <div class="training-card fade-in" data-status="completed" data-type="qc" style="animation-delay: 0.1s">
                <div class="training-card-header">
                  <div class="training-type qc">
                    <i class="fas fa-clipboard-check"></i>
                  </div>
                  <h3 class="training-title">Green Coffee Grading Workshop</h3>
                  <p class="training-subtitle">Defect identification, screen size analysis, and density testing</p>
                  <div class="training-date">
                    <i class="far fa-calendar"></i>
                    <span>5 March 2025 • 14:00 - 17:00</span>
                  </div>
                </div>
                <div class="training-body">
                  <div class="training-meta">
                    <div class="training-participants">
                      <i class="fas fa-users"></i>
                      12 participants
                      <div class="participant-avatars">
                        <div class="participant-avatar" style="background: #16a34a;">TW</div>
                        <div class="participant-avatar" style="background: #f8961e;">RJ</div>
                        <div class="participant-avatar" style="background: #ef4444;">+10</div>
                      </div>
                    </div>
                    <span class="training-status status-completed">Completed</span>
                  </div>
                  <div class="training-skills">
                    <span class="skill-tag">Defects</span>
                    <span class="skill-tag">Screen Size</span>
                    <span class="skill-tag">Moisture</span>
                    <span class="skill-tag">Density</span>
                  </div>
                  <div class="training-progress">
                    <div class="progress-label">
                      <span>Training Completed</span>
                      <span>100%</span>
                    </div>
                    <div class="progress-bar">
                      <div class="progress-fill completed"></div>
                    </div>
                  </div>
                  <div class="training-actions">
                    <button class="action-btn action-btn-primary" data-id="2">
                      <i class="fas fa-chart-bar"></i>
                      View Results
                    </button>
                    <button class="action-btn action-btn-secondary" data-id="2">
                      <i class="fas fa-redo"></i>
                      Repeat
                    </button>
                  </div>
                </div>
              </div>

              <!-- Training Card 3 -->
              <div class="training-card fade-in" data-status="in-progress" data-type="roasting" style="animation-delay: 0.2s">
                <div class="training-card-header">
                  <div class="training-type roasting">
                    <i class="fas fa-fire"></i>
                  </div>
                  <h3 class="training-title">Roaster Profile Review</h3>
                  <p class="training-subtitle">Advanced roast profiling and quality optimization techniques</p>
                  <div class="training-date">
                    <i class="far fa-calendar"></i>
                    <span>22 March 2025 • 09:00 - 12:00</span>
                  </div>
                </div>
                <div class="training-body">
                  <div class="training-meta">
                    <div class="training-participants">
                      <i class="fas fa-users"></i>
                      6 participants
                      <div class="participant-avatars">
                        <div class="participant-avatar" style="background: #3a0ca3;">MK</div>
                        <div class="participant-avatar" style="background: #4cc9f0;">AL</div>
                        <div class="participant-avatar" style="background: #f72585;">+4</div>
                      </div>
                    </div>
                    <span class="training-status status-in-progress">In Progress</span>
                  </div>
                  <div class="training-skills">
                    <span class="skill-tag">Roast Profiling</span>
                    <span class="skill-tag">Quality Control</span>
                    <span class="skill-tag">Production</span>
                    <span class="skill-tag">Troubleshooting</span>
                  </div>
                  <div class="training-progress">
                    <div class="progress-label">
                      <span>Session Progress</span>
                      <span>65%</span>
                    </div>
                    <div class="progress-bar">
                      <div class="progress-fill in-progress"></div>
                    </div>
                  </div>
                  <div class="training-actions">
                    <button class="action-btn action-btn-primary" data-id="3">
                      <i class="fas fa-play-circle"></i>
                      Continue
                    </button>
                    <button class="action-btn action-btn-secondary" data-id="3">
                      <i class="fas fa-pause"></i>
                      Pause
                    </button>
                  </div>
                </div>
              </div>

              <!-- Training Card 4 -->
              <div class="training-card fade-in" data-status="planned" data-type="green" style="animation-delay: 0.3s">
                <div class="training-card-header">
                  <div class="training-type green">
                    <i class="fas fa-seedling"></i>
                  </div>
                  <h3 class="training-title">Q-Grader Certification Prep</h3>
                  <p class="training-subtitle">Comprehensive preparation for SCAA Q-Grader certification</p>
                  <div class="training-date">
                    <i class="far fa-calendar"></i>
                    <span>25 March 2025 • 13:00 - 18:00</span>
                  </div>
                </div>
                <div class="training-body">
                  <div class="training-meta">
                    <div class="training-participants">
                      <i class="fas fa-users"></i>
                      4 participants
                      <div class="participant-avatars">
                        <div class="participant-avatar" style="background: #4361ee;">EC</div>
                        <div class="participant-avatar" style="background: #7209b7;">+3</div>
                      </div>
                    </div>
                    <span class="training-status status-planned">Planned</span>
                  </div>
                  <div class="training-skills">
                    <span class="skill-tag">Sensory Skills</span>
                    <span class="skill-tag">Triangulation</span>
                    <span class="skill-tag">Cupping</span>
                    <span class="skill-tag">Certification</span>
                  </div>
                  <div class="training-progress">
                    <div class="progress-label">
                      <span>Preparation Progress</span>
                      <span>45%</span>
                    </div>
                    <div class="progress-bar">
                      <div class="progress-fill planned" style="width: 45%"></div>
                    </div>
                  </div>
                  <div class="training-actions">
                    <button class="action-btn action-btn-primary" data-id="4">
                      <i class="fas fa-tasks"></i>
                      Prepare
                    </button>
                    <button class="action-btn action-btn-secondary" data-id="4">
                      <i class="fas fa-edit"></i>
                      Edit
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sidebar with Calendar and Upcoming Sessions -->
          <div class="training-sidebar">
            <!-- Training Calendar -->
            <div class="training-calendar fade-in" style="animation-delay: 0.2s">
              <div class="calendar-header">
                <div class="calendar-month" id="currentMonth">March 2025</div>
                <div class="calendar-nav">
                  <button class="calendar-nav-btn" id="prevMonth">
                    <i class="fas fa-chevron-left"></i>
                  </button>
                  <button class="calendar-nav-btn" id="nextMonth">
                    <i class="fas fa-chevron-right"></i>
                  </button>
                </div>
              </div>
              <div class="calendar-grid" id="calendarGrid">
                <!-- Calendar will be populated dynamically -->
              </div>
            </div>

            <!-- Upcoming Sessions -->
            <div class="upcoming-sessions fade-in" style="animation-delay: 0.3s">
              <h3 class="mb-2">Today's Sessions</h3>
              <ul class="session-list">
                <li class="session-item">
                  <div class="session-time">
                    <div class="session-time-hour">10:00</div>
                    <div class="session-time-period">AM</div>
                  </div>
                  <div class="session-info">
                    <div class="session-title">Barista Calibration</div>
                    <div class="session-description">Deep Cafe & Roastery</div>
                  </div>
                </li>
                <li class="session-item">
                  <div class="session-time">
                    <div class="session-time-hour">14:00</div>
                    <div class="session-time-period">PM</div>
                  </div>
                  <div class="session-info">
                    <div class="session-title">QC Team Meeting</div>
                    <div class="session-description">Warehouse QC Lab</div>
                  </div>
                </li>
                <li class="session-item">
                  <div class="session-time">
                    <div class="session-time-hour">16:30</div>
                    <div class="session-time-period">PM</div>
                  </div>
                  <div class="session-info">
                    <div class="session-title">New Roaster Training</div>
                    <div class="session-description">Roastery Lab</div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </main>

      <footer class="dashboard-footer">
        <div class="footer-content">
          <span>© 2024 Equity Coffee – Training Management System v2.0</span>
          <span>Next session: <span id="next-session">Barista Calibration (Today, 10:00)</span></span>
        </div>
      </footer>
    </div>
  </div>

  <!-- Training Modal -->
  <div class="modal-overlay" id="trainingModal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Schedule New Training</h3>
        <button class="modal-close" id="modalClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <form id="trainingForm">
          <div class="form-grid">
            <div class="form-group">
              <label for="trainingTitle">Training Title</label>
              <input type="text" id="trainingTitle" placeholder="e.g., Barista Sensory Calibration" required>
            </div>
            <div class="form-group">
              <label for="trainingType">Training Type</label>
              <select id="trainingType" required>
                <option value="">Select type</option>
                <option value="barista">Barista Training</option>
                <option value="qc">Quality Control</option>
                <option value="roasting">Roasting</option>
                <option value="green">Green Coffee</option>
                <option value="management">Management</option>
              </select>
            </div>
            <div class="form-group">
              <label for="trainingDate">Date</label>
              <input type="date" id="trainingDate" required>
            </div>
            <div class="form-group">
              <label for="trainingTime">Time</label>
              <input type="time" id="trainingTime" required>
            </div>
            <div class="form-group">
              <label for="trainingDuration">Duration (hours)</label>
              <input type="number" id="trainingDuration" min="1" max="8" value="3" required>
            </div>
            <div class="form-group">
              <label for="trainingLocation">Location</label>
              <input type="text" id="trainingLocation" placeholder="e.g., Roastery Lab" required>
            </div>
            <div class="form-group">
              <label for="maxParticipants">Max Participants</label>
              <input type="number" id="maxParticipants" min="1" max="50" value="12" required>
            </div>
            <div class="form-group">
              <label for="trainer">Trainer</label>
              <input type="text" id="trainer" value="Educator Demo" required>
            </div>
          </div>
          
          <div class="form-group">
            <label for="trainingDescription">Description</label>
            <textarea id="trainingDescription" placeholder="Describe the training objectives, topics covered, and expected outcomes..." rows="4"></textarea>
          </div>
          
          <div class="form-group">
            <label for="trainingSkills">Skills Covered (comma separated)</label>
            <input type="text" id="trainingSkills" placeholder="e.g., Espresso, Milk Steaming, Workflow, Basic QC">
          </div>
          
          <div class="form-group">
            <label for="trainingStatus">Status</label>
            <select id="trainingStatus">
              <option value="planned">Planned</option>
              <option value="in-progress">In Progress</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-ghost" id="cancelTraining">
              Cancel
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i>
              Save Training
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="../js/common-auth.js"></script>
  <script>
    // Enhanced JavaScript for Training Management System
    document.addEventListener('DOMContentLoaded', function() {
      // DOM Elements
      const sidebar = document.getElementById('sidebar');
      const sidebarToggle = document.getElementById('sidebar-toggle');
      const sidebarClose = document.getElementById('sidebar-close');
      const logoutBtns = document.querySelectorAll('#logout-btn, #topbar-logout');
      const newTrainingBtn = document.getElementById('new-training-btn');
      const trainingModal = document.getElementById('trainingModal');
      const modalClose = document.getElementById('modalClose');
      const cancelTraining = document.getElementById('cancelTraining');
      const trainingForm = document.getElementById('trainingForm');
      const filterTabs = document.querySelectorAll('.filter-tab');
      const trainingCards = document.querySelectorAll('.training-card');
      const searchInput = document.getElementById('training-search');
      const calendarGrid = document.getElementById('calendarGrid');
      const currentMonth = document.getElementById('currentMonth');
      const prevMonthBtn = document.getElementById('prevMonth');
      const nextMonthBtn = document.getElementById('nextMonth');
      const actionButtons = document.querySelectorAll('.action-btn');

      // Current date for calendar
      let currentDate = new Date();
      let currentMonthIndex = currentDate.getMonth();
      let currentYear = currentDate.getFullYear();

      // Sidebar Toggle
      sidebarToggle.addEventListener('click', () => {
        sidebar.classList.toggle('active');
      });

      sidebarClose.addEventListener('click', () => {
        sidebar.classList.remove('active');
      });

      // Logout Functionality
      logoutBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          if (confirm('Are you sure you want to logout?')) {
            window.location.href = '../index.html';
          }
        });
      });

      // Training Modal Functions
      function openModal(title = 'Schedule New Training') {
        document.getElementById('modalTitle').textContent = title;
        trainingModal.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Set default date to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('trainingDate').value = today;
        
        // Set default time to next hour
        const nextHour = new Date();
        nextHour.setHours(nextHour.getHours() + 1, 0, 0, 0);
        document.getElementById('trainingTime').value = nextHour.toTimeString().slice(0, 5);
      }

      function closeModal() {
        trainingModal.classList.remove('active');
        document.body.style.overflow = 'auto';
        trainingForm.reset();
      }

      modalClose.addEventListener('click', closeModal);
      cancelTraining.addEventListener('click', closeModal);

      // New Training Button
      newTrainingBtn.addEventListener('click', () => {
        openModal();
      });

      // Training Form Submission
      trainingForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Collect form data
        const formData = {
          title: document.getElementById('trainingTitle').value,
          type: document.getElementById('trainingType').value,
          date: document.getElementById('trainingDate').value,
          time: document.getElementById('trainingTime').value,
          duration: document.getElementById('trainingDuration').value,
          location: document.getElementById('trainingLocation').value,
          maxParticipants: document.getElementById('maxParticipants').value,
          trainer: document.getElementById('trainer').value,
          description: document.getElementById('trainingDescription').value,
          skills: document.getElementById('trainingSkills').value,
          status: document.getElementById('trainingStatus').value
        };

        // In a real app, send this to server
        console.log('Training form submitted:', formData);
        
        // Show success message
        alert('Training scheduled successfully!');
        closeModal();
        
        // Refresh training list (simulated)
        setTimeout(() => {
          updateTrainingStats();
          generateCalendar();
        }, 500);
      });

      // Filter Training Cards
      filterTabs.forEach(tab => {
        tab.addEventListener('click', () => {
          // Update active tab
          filterTabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          
          const filter = tab.dataset.filter;
          
          // Filter cards
          trainingCards.forEach(card => {
            if (filter === 'all') {
              card.style.display = 'block';
            } else {
              const status = card.dataset.status;
              if (filter === status) {
                card.style.display = 'block';
              } else {
                card.style.display = 'none';
              }
            }
          });
        });
      });

      // Search Functionality
      searchInput.addEventListener('input', () => {
        const searchTerm = searchInput.value.toLowerCase();
        
        trainingCards.forEach(card => {
          const cardText = card.textContent.toLowerCase();
          if (cardText.includes(searchTerm)) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });

      // Action Button Handlers
      actionButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          const trainingId = this.dataset.id;
          const action = this.textContent.trim();
          
          // Different actions based on button text
          if (action.includes('Start') || action.includes('Continue')) {
            startTrainingSession(trainingId);
          } else if (action.includes('Edit')) {
            editTraining(trainingId);
          } else if (action.includes('View Results')) {
            viewTrainingResults(trainingId);
          } else if (action.includes('Repeat')) {
            duplicateTraining(trainingId);
          } else if (action.includes('Pause')) {
            pauseTraining(trainingId);
          } else if (action.includes('Prepare')) {
            prepareTraining(trainingId);
          }
        });
      });

      // Training Action Functions
      function startTrainingSession(id) {
        alert(`Starting training session #${id}`);
        // In a real app, this would redirect to training session page
      }

      function editTraining(id) {
        openModal(`Edit Training #${id}`);
        // In a real app, load existing training data
      }

      function viewTrainingResults(id) {
        alert(`Viewing results for training #${id}`);
        // In a real app, show training results modal
      }

      function duplicateTraining(id) {
        if (confirm('Duplicate this training session?')) {
          alert(`Duplicated training #${id}`);
          // In a real app, create a copy of the training
        }
      }

      function pauseTraining(id) {
        alert(`Paused training #${id}`);
        // In a real app, update training status
      }

      function prepareTraining(id) {
        alert(`Opening preparation checklist for training #${id}`);
        // In a real app, show preparation checklist
      }

      // Calendar Functions
      function generateCalendar() {
        const monthNames = [
          'January', 'February', 'March', 'April', 'May', 'June',
          'July', 'August', 'September', 'October', 'November', 'December'
        ];
        
        // Update month display
        currentMonth.textContent = `${monthNames[currentMonthIndex]} ${currentYear}`;
        
        // Get first day of month and total days
        const firstDay = new Date(currentYear, currentMonthIndex, 1);
        const lastDay = new Date(currentYear, currentMonthIndex + 1, 0);
        const totalDays = lastDay.getDate();
        const startingDay = firstDay.getDay();
        
        // Clear calendar
        calendarGrid.innerHTML = '';
        
        // Add day headers
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        days.forEach(day => {
          const dayElement = document.createElement('div');
          dayElement.className = 'calendar-day header';
          dayElement.textContent = day;
          calendarGrid.appendChild(dayElement);
        });
        
        // Add empty cells for days before first day of month
        for (let i = 0; i < startingDay; i++) {
          const emptyDay = document.createElement('div');
          emptyDay.className = 'calendar-day';
          calendarGrid.appendChild(emptyDay);
        }
        
        // Add days of month
        const today = new Date();
        const isCurrentMonth = today.getMonth() === currentMonthIndex && today.getFullYear() === currentYear;
        
        // Days with training sessions (for demo)
        const trainingDays = [5, 12, 18, 22, 25];
        
        for (let day = 1; day <= totalDays; day++) {
          const dayElement = document.createElement('div');
          dayElement.className = 'calendar-day';
          dayElement.textContent = day;
          
          // Check if today
          if (isCurrentMonth && day === today.getDate()) {
            dayElement.classList.add('today');
          }
          
          // Check if has training
          if (trainingDays.includes(day)) {
            dayElement.classList.add('has-training');
            dayElement.addEventListener('click', () => {
              alert(`View trainings on ${monthNames[currentMonthIndex]} ${day}, ${currentYear}`);
            });
          }
          
          calendarGrid.appendChild(dayElement);
        }
      }

      // Calendar Navigation
      prevMonthBtn.addEventListener('click', () => {
        currentMonthIndex--;
        if (currentMonthIndex < 0) {
          currentMonthIndex = 11;
          currentYear--;
        }
        generateCalendar();
      });

      nextMonthBtn.addEventListener('click', () => {
        currentMonthIndex++;
        if (currentMonthIndex > 11) {
          currentMonthIndex = 0;
          currentYear++;
        }
        generateCalendar();
      });

      // Update Training Stats
      function updateTrainingStats() {
        // Simulate dynamic updates
        const total = Math.floor(Math.random() * 5) + 18;
        const upcoming = Math.floor(Math.random() * 3) + 4;
        const participants = Math.floor(Math.random() * 20) + 140;
        
        document.getElementById('total-trainings').textContent = total;
        document.getElementById('upcoming-trainings').textContent = upcoming;
        document.getElementById('participants-trained').textContent = participants;
      }

      // Update Next Session
      function updateNextSession() {
        const now = new Date();
        const sessions = [
          { title: 'Barista Calibration', time: '10:00' },
          { title: 'QC Team Meeting', time: '14:00' },
          { title: 'New Roaster Training', time: '16:30' }
        ];
        
        const nextSession = sessions.find(session => {
          const [hours, minutes] = session.time.split(':');
          const sessionTime = new Date();
          sessionTime.setHours(parseInt(hours), parseInt(minutes), 0, 0);
          return sessionTime > now;
        });
        
        if (nextSession) {
          document.getElementById('next-session').textContent = 
            `${nextSession.title} (Today, ${nextSession.time})`;
        }
      }

      // Initialize
      generateCalendar();
      updateTrainingStats();
      updateNextSession();

      // Simulate real-time updates
      setInterval(() => {
        updateTrainingStats();
        updateNextSession();
      }, 60000); // Update every minute

      // Close modal on ESC key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && trainingModal.classList.contains('active')) {
          closeModal();
        }
      });

      // Close modal on outside click
      trainingModal.addEventListener('click', (e) => {
        if (e.target === trainingModal) {
          closeModal();
        }
      });
    });
  </script>
</body>
</html>